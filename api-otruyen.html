<script>
  // Danh sách URL ảnh
  var config = {};
  config['chapterImage'] = Array.from({ length: totalImages }, (_, i) => {
    return `${basePath}${i + 1}.jpg`;
  });

  // Hàm tải ảnh tuần tự
  function preloadSequentially(urls, index = 0) {
    if (index >= urls.length) return;

    const img = new Image();
    img.loading = "lazy";
    img.src = urls[index];

    img.onload = () => {
      console.log(`Tải xong trang ${index + 1}`);
      preloadSequentially(urls, index + 1);
    };
    img.onerror = () => {
      console.warn(`Lỗi tải trang ${index + 1}`);
      preloadSequentially(urls, index + 1);
    };
  }

  // Bắt đầu tải
  preloadSequentially(config['chapterImage']);
</script>